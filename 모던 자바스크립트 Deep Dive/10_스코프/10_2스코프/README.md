# 스코프의 종류
- 코드는 전역과 지역으로 구분할 수 있다.
- 전역 : 코드의 가장 바깥영역, 전역스코프,전역 변수
- 지역 : 함수 몸체 내부 , 지역 스코프,지역 변수 
이때 변수는 자신이 선언된 위치에 의해 자신이 유효한 범위인 스코프가 결정된다. 즉,전역 에서 선언된 변수는 전역 스코프를 갖는 전역 변수이고, 지역에서 선언된 변수는 지역 스코프를 갖는 지역 변수다.

```
let x = 'global x';
let y = 'global y';

function outer(){
    let z = "outer's local z";
    
    console.log(x); // 'global x'
    console.log(y); // 'global y'
    console.log(z); // "outer's local z"

    function inner(){
        let x = "inner's local x";

        console.log(x); // "inner's local x"
        console.log(y); // 'global y'
        console.log(z); // "outer's local z";
    }
    inner()
}
outer()

console.log(x) // 'global x' ;
console.log(z) // ReferenceError: z is not defined ;
```
- 전역이란 코드의 가장 바깥 영역을 말한다, 전역은 전역 스코프를 만든다.
- 전역에 변수를 선언하면 전역 스코프를 갖는 전역 변수가 된다. **전역 변수는** 어디서든지 참조할 수 있다.
전역에서 선언된 x 변수와 y 변수는 전역 변수다. 전역 변수는 어디서든 참조할 수 있으므로 함수 내부에서도 참조할 수 있다.

## 지역과 지역 스코프
지역이란 **함수 몸체 내부**를 말한다, 지역은 지역 스코프 를 만든다. 지역에 변수를 선언하면 지역 스코프를 갖는 지역 변수가 된다. 자신이 선언된 지역과 하위 지역 에서만 참조할 수있다.

## 스코프 체인 
함수는 전역에서 정의할 수도 있고 함수 몸체 내부에서 정의할 수도 있다. 함수 몸체 내부에서 함수가 정의된 것을 '함수의 중첩' 이라 한다. 그리고 함수 내부에서 정의한 함수를 **중첩 함수** 중첩함수를 포함하는 함수를 **외부함수** 라고 한다.
- 모든 스코프는 하나의 계층적 구조로 연결되며, 모든 지역 스코프의 최상위 스코프는 전역 스코프다.
이렇게 스코프가 계층적으로 연결된 것을 스코프 체인 이라 한다. 변수를 참조할 때 자바스크립트 엔진은 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여 상위 스코프 방향으로 이동하며 선언된 변수를 검색한다.
- 상위 스코프에서 유효한 변수는 하위 스코프에서 자유롭게 참조할 수 있지만 하위 스코프에서 유효한 변수를 상위 스코프에서 참조할 수 없다.

## 스코프 체인에 의한 함수 검색
```
// 전역함수
function foo(){
    console.log('global function foo')
}
function bar(){
   // 중첩함수
    function foo(){
        console.log('local function foo')
    }
    foo()
}
bar()
```
